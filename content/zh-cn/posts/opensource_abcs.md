---
title: 我的“拥抱开源”第一课（上）
subtitle: 开源理念与开源协议
date: 2024-12-24T07:42:33Z
slug: opensource-abcs-to-developers
draft: false
author:
  name: 杰子
  link: 
  email: ai4fun2004@gmail.com
  avatar: 
description: 面向个人开发者，探讨开源的理念和意义，说明开源协议和异同，并尝试给出个人参与开源（使用或开发）中的一些小建议。
keywords: ["开源", "Open Source", "MIT License", "GNU License", "开源协议", "知识管理", "Knowledge Management"]
license: CC BY-NC-SA 4.0
comment: true
weight: 0
tags:
  - 开源
  - 开源协议
  - 知识管理
  - 知识协作
categories:
  - Analysis
hiddenFromHomePage: false
hiddenFromSearch: false
hiddenFromRelated: false
hiddenFromFeed: false
summary: 首先，本文说明越来越多的“知识密集型”工作，从“大教堂”模式演进到“集市”模式过程中，开源的理念、协作方式与工具被证明是一种既能确保知识共享与创新，又能保障最终结果和效率的有效方式。接下来，本文从黑客文化到自由软件运动，介绍了开源理念的沿革。之后，本文讨论在开源中作为共识存在的开源协议，说明不同类型的开源协议，以及它们的内在异同。最后，本文落脚在个人开发者上，说明在开源参与中（不论是作为使用者还是贡献者）的实践建议。
resources:
  - name: featured-image
    src: featured-image.jpg
  - name: featured-image-preview
    src: /opensource_abcs/open-source-word-cloud.png
toc: true
math: false
lightgallery: false
password:
message:
repost:
  enable: true
  url:
twemoji: true

# See details front matter: https://fixit.lruihao.cn/documentation/content-management/introduction/#front-matter
---
> 杰子注：本文为个人学习开源系列第一篇，主要聚集在开源的意义、开源的理念沿革、开源协议等方面。未来还将进一步探讨开源的协作方式与工作、开源生态、个人开发者的最佳实践等话题。

相信许多朋友和我一样，作为使用者，少不得要学习参照Github等一些平台上的开源代码；作为开发者，一些项目工作也会直接或间接的开放给他人、贡献到开源社区。那么开源究竟指的是什么？参与开源意味着什么？其中又有哪些游戏规则需要遵守？

![](/opensource_abcs/open-source-word-cloud.png "OpenSource Words Cloud")

<!--more-->

现下许多公司或个人声称要坚定的”**拥抱开源**“，可以上问题又往往是我们的盲区，由此引发不少争议来，如：
- 不久前，[某科技博主在视频（一则创意动画）使用了Github 上的开源代码，却声称是自己开发，且删除了开源代码的来源信息](https://www.huxiu.com/article/3705273.html)，为何会因此受到指责？
- [阿里巴巴在某开源产品的推广活动中，要求活动参加者在GitHub上刷star以获得礼品](https://www.zhihu.com/question/494108102/answer/2186825405)，为何这是不对的？
- [华为 Linux 内核贡献者提交大量的小修订](https://www.zhihu.com/question/466111598/answers/updated)，为何会被质疑低价值和刷KPI？

本文正是我学习和理解开源的一个过程。我将立足在个人开发者这一角色上，围绕开源的理念、开源的规则、参与开源的最佳实践等方面，查询资料并探讨展开。关于本文中的一些信息和观点，我将尽量提供出处（如源自他处），如果读者有兴趣加深了解，建议参阅“进一步阅读”中的信息。

## 拥抱开源：更好的从大教堂走向集市
想像以下两种产品和服务的生产形态：<sup>[1]</sup>
- 一种是大教堂式的，这是一个精心设计、严密执行的过程，`建造一座教堂般，由个别的高手或一小群专家在光辉的孤立中小心翼翼地精雕细琢，时机未到之前，不会发布测试版。`每个人只需要各司其职，完成属于自己的那一部分工作即可。管理自上而下单点化，无效的沟通最小化，跨边界的工作尽量被避免。
- 另一种是集市式的，`一个有不同流程和不同方式的大市集，每个人服从着自由的规则`。每个人都是执行者和决策者，沟通需要各种成员之间多点进行，组织围绕共同的愿景，通过知识的共享与知识的协作来推动任务的完成。

![图一：大教堂与集市，图片来自https://mijowa.github.io/CatB/。此外，本章节中引用的内容也来自于《大教堂与集市》一书。](/opensource_abcs/the-cathedral-and-the-bazaar.jpg "The Cathedral and the Bazaar")

管理学大师彼得-德鲁克指出，二十一世纪将涌现出越来越多的知识密集型的产品和服务，传统的“大教堂”式的自上而下、层级式的管理和沟通模式很难适用。他号召组织和管理形态的转型，并认为每一位知识工作者也应当是”有效的管理者“和决策者。

然而，从”大教堂“转型到”集市“，并不意味着各种问题都能够迎刃而解。想想我们身边，许多人会为以下的事情困扰不已：项目或产品研发中，永远有开不完的会；关于功能与需求，迟迟难以达成共识；在参与成员之间的汇报、信息沟通和同步，总是耗去了大量的时间精力；计划之外的变动和执行中的差错，常常让项目的交付一拖再拖，等等。

在以上例子中，虽然很多时候公司/组织在项目上未必是“大教堂”式，甚至有可能是采取了“集市“式自由与开放的模式，但由于缺少共同的理念，或更多是缺少有效的知识共享 / 知识协作的方式和工具，仍导致总体的低效率。在《人月神话》一书中，作者一针见血的指出，软件或项目研发中`“随着开发人员数目的增长，项目复杂度和沟通成本按人数的平方增加，而工作成果只会呈线性增长“`。

![图二：左为“大教堂”式自上而下的管理和沟通模式，右为“集市”式网络结构的管理和沟通模式。图片由Gemini生成。](/opensource_abcs/two-types-of-organization_chart.jpg "Two Types of Organizations")

这是否意味着从大教堂到集市，“开放“与”高效“总是二律背反的？未必！开源就提供了一种很好的解法。开源就是一种“集市”式的知识共享和知识协作模式，它的理念最早从黑客文化中孕育而来，随着社区和人群的壮大，伴随并支持了重要项目、应用和基建的成功（如Linux等），并进一步反哺和推动了开源的协作方式和工具的发展和成熟，进而在此基础上更广泛的创造、应用及所产生的影响，这无一不证明了`"市集模式"是可行的，并且运作得很好，这个事实带来了相当的震憾`。为什么？让我们一步一步来看。

## 理念与源流：从黑客文化到自由软件再到开源
为了理解开源的基本理念，有必要追溯到早期的计算机爱好者和黑客文化，再经由上世纪 80、90 年代自由软件运动演进，才到90年代末期 逐渐最终形成关于开源意义和内涵的共识。

关于黑客文化和早期计算机爱好者们的故事，可以参考《大教堂与集市》一书的“黑客简史”一章。理查德·斯托曼(Richard M.Stallman)，这位早期计算机黑客文化的倡导者，主导并深刻影响了自由软件、开源运动的人物，曾如是描述“黑客文化”：
`​“出于兴趣而解决某个难题，不管它有没有用，这就是黑客。​”根据理查德·斯托曼的说法，黑客行为必须包含三个特点：好玩、高智商、探索精神。`

另一个版本出自于史蒂文·利维(StevenLevy)的著作《黑客：计算机革命的英雄》<sup>[2]</sup>，在他的描述里，黑客文化包括了更多价值追求、社会影响上的意义：
> 转引自《黑客与画家》一书<sup>[3]</sup>：  
> 1. 使用计算机以及所有有助于了解这个世界本质的事物都不应受到任何限制。任何事情都应该亲手尝试。
> 2. 所有信息应该都是自由的。
> 3. 不信任权威，提倡去中心化。
> 4. 判断一名黑客的水平应该看他的技术能力，而不是看他的学历、年龄或地位等其他标准。
> 5. 你可以用计算机创造美和艺术。
> 6. 计算机使生活更美好。

计算机程序无疑是黑客兴趣和探索的结晶。围绕软件著作权和它应有的社会价值，在上世纪 70、80 年代计算机爱好者们逐渐形成了两种不同的认知：一派认为软件所有权需要充分保护，并结合付费授权等商业行为，以形成进一步创新的动力；另一派则认为软件的更大价值在于开放和共享，应当更公开的传播和授权。前者一般称之为专有软件派，后者则是自由软件派，代表人物之一正是前文提到的理查德·斯托曼（RMS），他大声疾呼软件应当`"free as freedom"`，他所推广的自由软件应当是：<sup>[4]</sup>
> - 授权以自由的使用
> - 源码开放，可以服务于个人自由的研究与修订
> - 基于此的自由再发布和构建对外开放应用

专有软件如微软件的Windows等无疑获得了巨大的商业上的成功，而自由软件中也催生出了像Linux、GNU这样的世界级产品，它对社会文化的影响则更为重大，正如英国IT作家Glyn Moody所说：“`自由软件不仅仅是关于软件代码的，它们也与自由、分享有关，与社会有关。它们与创造有关，与美有关。这些代码深处寄托着我们最美好的心愿以及对最丑恶的东西的反抗，它将和人们的恒心共久长。`”<sup>[5]</sup>

自由软件与专有软件在理念上的对峙、处于自由软件精神内核之一的GPL协议（下一节我们会进一步讨论它）copyleft式授权、倡导者及社区的理想主义与极为鲜明的个性，带来的一个副作用，就是自由、开放、共享的理念常常在商业公司或组织中，在商业化的推广和应用上遇到阻力。而开源则采取了一种更温和、更务实的姿态，如Open Source Initiatives提供了一套开源的标准定义：<sup>[6]</sup>
> - 自由再分发：许可证不得限制任何个人或团体销售或赠予软件的权利。
> - 源代码：必须提供源代码，并且允许以源代码形式分发。
> - 衍生作品：许可证必须允许修改和衍生作品，并且允许它们以相同的许可证分发。
> - 技术中立：许可证不得歧视任何个人或团体，或任何特定的领域。
> - 不得歧视个人或团体：许可证不得限制任何人的使用、修改或分发软件的权利。
> - 不得歧视特定领域：许可证不得限制软件用于某个特定的领域。
> - 许可证的分发：许可证本身不得限制其他软件的分发。
> - 许可证的格式：许可证不得以特定格式为条件。
> - 专利授权：许可证必须明确授予所有用户专利权，以防止专利诉讼。
> - 不得限制其他软件：许可证不得限制与该软件一同分发的其他软件。

开源继承了自由软件的理念，很大程度上，自由软件可视为开源软件，反之亦然。二者核心的区别在于，自由软件将使用和再开发视为一种基本权利，并要求传播和沿续这种开放性，这对于将代码或软件视为公司机密的商业场景是一种极大的挑战；而开源主要侧重于源代码开放可得，以促进在此基础上的协作，强调有限制的自由，对后续应用的限制较少，对于商业和非商业场景都比较友好。

![图三：开源与自由软件有很大交集，但开源的理念更务实，主要侧重开放基础上的协作，对后续应用限制较少，因此对商业场景更友好。](/opensource_abcs/open-source-ideology.jpg "Hacker Culture -> Free Software -> Open Source")


## 共识：版权、许可证与开源协议
开源协议可视为支持开源背后的基本共识，旨在实现保护所有者版权和利益、鼓励创新、消弥潜在的争端的目的。本章节将首先介绍版权与许可证机制，再进一步分类说明主要的开源协议，最后简要探讨开源协议的选择问题。

**版权（著作权）**是创作者对其创作作品的所有权，是对作品所关联的一系列使用、传播、修订等行为，及所产生的利益和权益的保障<sup>[7]</sup>。版权强调的是所有权的归属，旨在保护创作者的权益，以鼓励创新。软件、代码作品也存在版权。

注意到版权中隐含了一个“首次销售原则”（或称之为“权利穷竭原则”）：当产品从所有者转移到使用者（往往是通过销售），所有者对该产品后续销售的控制权即告耗尽。如你购买了一本正版书籍，你可以随意将其转卖给他人，而无需获得出版社或作者的同意<sup>[7]</sup>。然而在软件领域，事情有些不同：由于代码非实质资产，它本身复制和传播成本极低，软件使用者可以很容易在违背所有者意愿的情况下将软件二次传播或二次销售，这种二次销售也往往直接有悖于所有者的权益。因此，在软件等各种数字类产品行业，**许可证(license)机制**产生了，它有点类似于“使用（权）说明书”，旨在避免首次销售原则对所有者的不利影响，强调使用者只有产品的使用权，在没有所有权或所有者认可的情况下，不得再度销售该产品。

显然，许可证机制是对所有者权益的补全。可事情往往有两面性，引入许可证机制后，软件产品的分享和传播受到了很大的限制，还可能进一步影响在这基础上的知识共享与知识协作。有基于此，自由软件/开源的倡导者、组织和社区制订了各种类型的开源协议，本质上它们也是一种许可证，希望在保护所有者权益的同时，支持更自由的分享与传播。

Open Source Initiatives最重要的职责之一，就是维护各种开源协议，并使之标准化，并具备社会、法律约束力。关于各种开源协议的详细定义和说明，请务必参考<sup>[8]</sup>。按照各类开源协议的特征，大概可以将它们划分为以下三类，以方便理解：

**Copyleft类型**  

这一类许可证从自由软件和著名的GNU项目而来，它秉持了自由软件的全部理念，认为软件*应当*被自由都使用和传播，而且使用或基于此代码修订而进一步生成的软件产品，它们也*应当*遵守自由软件的理念（即源码开放并允许自由的使用、传播、修订等）。无怪乎有人会将其称之为软件“共产主义”的理念。

该类许可证下的GNU General Public License (GPL)是影响重大一种开源协议此协议，此协议要求源码开放，授权以自由的使用、传播、修订；所有者对使用者无保障或其他责任义务；二次开发和传播中要明确透出版权、许可证信息，且要求衍生产品沿用GPL协议。

针对一些不适合开源的代码或文件，如私有的、核心的文件等，GNU Lesser General Public License (LGPL)支持将它们抽取和隔离出来，以库的形式链接到其他文件（如遵循GPL协议的文件），从而为一些商业场景下应用开源代码提供了可能性和灵活性。Mozilla Public License (MPL)沿用此思路，它支持在文件层面明确开源/闭源、copyleft的要求，在保持MPL许可文件的独立性条件下，可以将该协议的文件与专有代码或其他开源协议下的代码组合在一个项目中，并进行一系列的开发、应用和传播。Eclipse Public License (EPL) 为促进商业使用，同样支持弱copyleft模式，支持与其他协议的代码共同使用；并引入“二级许可证”，，以实现与其他协议的兼容；强化专利保护。

|特性	             | GPL | LGPL | MPL | EPL |
| --------------- | -------- | -------- | -------- | -------- |
|Copyleft强度	     |强 | 弱 | 弱 | 弱 |
|与非开源软件链接	   |受限制 | 允许（库隔离） | 允许（文件隔离） | 允许 |
|二进制文件再授权	   |不允许 | 不允许 |	允许 | 允许 |
|对贡献者的法律保护	  | 无 | 无 |	无 | 有 |
|专利报复	          | 有 | 有	| 有	| 有 |

**Permissive类型**  

不同于copyleft类型，该类开源协议并不限制使用代码修订、二次开发后的衍生产品同样遵循相应的开源协议，即不具备“传播性”，因此也被视为更宽松的开源协议，在商业应用场景中备受青睐。此外，该类协议也更为简洁和灵活，这也是它们被广泛使用的原因之一。

首先是著名的、个人开发者中广泛使用的MIT License。除版权声明外，该协议没有太多的其它要求；它支持商业使用；该协议要求在使用、修订、传播中透出版权信息及附属的MIT协议。BSD License 同样是一种非常宽松的开源协议，主要区别在于，它要求不得使用版权所有者或贡献者的名字进行背书或推广衍生产品（除非事先得到书面许可）。Apache License 2.0加强并明确了专利保护的内容（原所有者对于代码衍生专利的权益），同时类似于BSD协议，它也对商标（如版权所有者或贡献者的名字等）的使用进行了限制。

| 特性         | MIT 许可证                | BSD 许可证                   | Apache 许可证 2.0             |
| ------------ | -------------------------- | --------------------------- | ----------------------------- |
| 长度         | 最短                     | 短                        | 较长                      |
| 专利授权     | 隐式                     | 隐式                      | 显式                      |
| 专利报复     | 无                       | 无                        | 有                        |
| 商标使用     | 未提及                   | 未提及                    | 禁止                      |
| 声明要求     | 版权和许可声明           | 版权和许可声明            | 版权、许可声明和修改说明 |

**其他类型**

除以上主要的开源协议外，还有许多其他开源协议：如颇具赛博朋克风的Do What The Fxxk You Want To Public License (WTFPL)；如适用于知识共享领域的Creative Commons协议，适用于特定地区的欧洲联盟公共许可协议 (EUPL)；或上述协议的衍生、变种。在这里展开一下Creative Commons协议。它主要应用在写作、艺术等领域，主要关注知识共享中的署名 (BY)、商业/非商业性使用 (NC)、允许/禁止修订与演绎 (ND)、如修订是否限制相同方式共享 (SA)等问题。


| 协议                     | 允许分享 | 允许修订 | 允许商业使用 | 署名要求 | 相同方式共享 | 说明                                                                                                                                                              |
| ------------------------ | ------------------------------------------------------------ | ------------------------------------- | ------------ | -------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| CC BY (署名)            | 是                                                           | 是                                    | 是           | 必须     | 否         | 最宽松的许可，只要署名，就可以自由分享和修改作品，可用于商业目的。                                                                                    |
| CC BY-SA (署名-相同方式共享) | 是                                                           | 是                                    | 是           | 必须     | 必须       | 可以自由分享和修改作品，可用于商业目的，但必须署名，并且 **演绎作品必须也采用相同的许可协议**。                                                                 |
| CC BY-ND (署名-禁止演绎)    | 是                                                           | 否                                    | 是           | 必须     | 不适用     | 可以自由分享作品，可用于商业目的，但必须署名，并且 **不允许修改作品**。                                                                                        |
| CC BY-NC (署名-非商业性使用) | 是                                                           | 是                                    | 否           | 必须     | 否         | 可以自由分享和修改作品，但必须署名，并且 **不允许将作品或其演绎作品用于商业目的**。                                                                              |
| CC BY-NC-SA (署名-非商业性使用-相同方式共享) | 是                                                           | 是                                    | 否           | 必须     | 必须       | 可以自由分享和修改作品，但必须署名，**不允许将作品或其演绎作品用于商业目的**，并且 **演绎作品必须也采用相同的许可协议**。                                                         |
| CC BY-NC-ND (署名-非商业性使用-禁止演绎) | 是                                                           | 否                                    | 否           | 必须     | 不适用     | 可以自由分享作品，但必须署名，**不允许将作品用于商业目的**，并且 **不允许修改作品**。 这也是最严格的CC BY 协议。                                                                    |


[Github上罗列了近年来不同开源协议的选用情况](https://innovationgraph.github.com/global-metrics/licenses#license-rankings)，可以看到开源协议各类繁多。开源协议选择上，主要可以考虑以下因素：
- 是否需要商业化使用；
- 是否隶属于某个社区或项目，需要遵从共同的协议约束；
- 开放与有条件的开放之间的权衡；
- 对copyleft和pemissive开源协议理念的认可度。

具体操作上，以下资料有较详细的讨论，此处仅做索引之用：
- 为了方便缺少相关专业知识的用户选择许可证，Github还给出了[choosealicense](https://choosealicense.com/)网站，用户可以根据自身需求，一步一步选择合适的协议。
- [阮一峰博客上](https://www.ruanyifeng.com/blog/2011/05/how_to_choose_free_software_licenses.html)翻译了一个简明的选择路线图，如下所示：

![图四：开源协议选择路线图，引用自阮一峰博客](/opensource_abcs/license-choice.png "Open Source License Choice")


## 进一步阅读
[1] 开源运动的倡导者Eric S. Raymond在《大教堂与集市》一书中给出了这两个绝佳的譬喻。这本书是对开源的社会学观察和思考，强烈推荐。“大教堂与集市“娓娓道来，在具象的例子中道破开源理念的核心和意义，令人醍醐灌顶。另外“黑客圈简史“一章追忆早年计算机兴趣小组与黑客文化的兴起，读起来有当年天涯神贴的感觉（话说笔者可能是最后一波使用Telnet登录BBS的活跃者了吧）；“开垦心智层“、”魔法锅“从礼物文化、价值实现、经济学等视角，探讨开源的社会动力学；“黑客的反击“和后记可视为一位黑客/开源开发者的自我修养了。每一位独立开发者应当人手一册的书，它的开源版本可以[参见此处](http://www.catb.org/~esr/writings/cathedral-bazaar/)。  
[2] 史蒂文·利维著《[黑客：计算机革命的英雄](https://book.douban.com/subject/6860890/)》(Hackers:Heroes of theComputer Revolution)一书我暂未阅读，标记一下，待阅读后补充。此处内容转引自《黑客与画家》一书。  
[3] Y Combinator创始人保罗·格雷厄姆《黑客与画家》一书是关于黑客文化的个人随笔集，不乏一些真知灼见，可花了太多篇章去讨论具体的个人经历、项目，乃至编程工具与语言选择等问题，虽然也有围绕这些主题展开的作者的思考、体悟，但总体在启发性上略逊。  
[4] 关于自由软件的介绍可参见[维基中文百科](https://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E8%BD%AF%E4%BB%B6)，此处为个人总结。  
[5] 此处文字转引自[阮一峰博客](https://www.ruanyifeng.com/blog/2005/03/post_112.html)。原书为《天才莱纳斯：Linux传奇》(Rebel Code: Inside Linux and the Open Source Revolution)，可惜现在已经绝版，暂时未能找到。    
自由软件的倡导者理查德·斯托曼(RMS)是一个传奇的、极具个人魅力的人物，但他对个人理念的执著也常招致一些争议。知乎关于“[Richard Stallman 罹患癌症，对于开源界会有多大影响？](https://www.zhihu.com/question/624356031/answer/3232910752)"话题上，作者@fisheuler​ 做了很好的介绍，他所援引的[来自HackerNews上的讨论](https://news.ycombinator.com/item?id=37699851)也很值得一读。另外，理查德·斯托曼的随笔集"[Free Software, Free Society: Selected Essays](https://www.gnu.org/philosophy/fsfs/rms-essays.pdf)"暂未阅读，标记一下。  
[6] 关于开源的定义可参见[Open Source Initiatives](https://opensource.org/osd)，该组织致力于推广开源文化，制定和维护开源标准与协议。此外，《大教堂与集市》一书中“黑客的反击”则提供了开源运动的发展策略与发展历程。  
[7] 关于版权（著作权）定义参见[维基百科](https://zh.wikipedia.org/wiki/%E8%91%97%E4%BD%9C%E6%AC%8A)。关于发行权一次耗尽原则可参见[维基百科](https://en.wikipedia.org/wiki/First-sale_doctrine)。
[8] Open Source Initiatives 维护了[详细的许可证信息，在此可参见开源协议的详细内容](https://opensource.org/licenses)。Github上所支持的[全部协议可参见此处](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/licensing-a-repository#disclaimer)。
